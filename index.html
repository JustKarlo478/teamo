<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Para Mi Amor â¤ï¸</title>

<style>
    body {
    margin: 0;
    font-family: 'Poppins', sans-serif;
    background: linear-gradient(135deg, #a8e6cf, #56ab2f);
    color: #fff;
    text-align: center;
    overflow-x: hidden;
    transition: background 0.5s ease;
}

.dark {
    background: linear-gradient(135deg, #0f3823, #062d1c);
}

/******************** MODO ROMÃNTICO **********************/
.romantic {
    background: linear-gradient(135deg, #ffb7d5, #ff7aa3) !important;
}

/********************** Header ***************************/
.header {
    padding: 40px 20px;
}
.header h1 {
    font-size: 2.8em;
    font-weight: bold;
    text-shadow: 0 4px 12px rgba(0,0,0,0.35);
}
.heart {
    font-size: 4em;
    animation: heartbeat 1.5s infinite;
    color: #d4ffc7;
}

/********************** Botones ***************************/
button {
    padding: 15px 25px;
    margin: 10px;
    font-size: 1.2em;
    border: none;
    border-radius: 15px;
    background: #2ecc71;
    color: white;
    cursor: pointer;
    transition: 0.3s ease;
    box-shadow: 0 4px 15px rgba(0, 80, 35, 0.4);
    position: relative;
    overflow: hidden;
}
button:hover {
    background: #27ae60;
    transform: scale(1.06);
}
button::after {
    content: "";
    position: absolute;
    top: -100%;
    left: -100%;
    width: 250%;
    height: 250%;
    background: radial-gradient(circle, rgba(255,255,255,0.4), transparent);
    opacity: 0;
    transition: opacity 0.4s;
}
button:hover::after {
    opacity: 1;
}

/********************** Tarjetas ***************************/
.card {
    background: rgba(255,255,255,0.15);
    padding: 30px;
    margin: 25px auto;
    width: 85%;
    border-radius: 25px;
    backdrop-filter: blur(8px);
    display: none;
    animation: fadeIn 0.8s;
    border: 1px solid rgba(255,255,255,0.25);
    box-shadow: 0 8px 20px rgba(0,0,0,0.2);
    transition: transform 0.3s;
}
.card:hover {
    transform: translateY(-5px);
}

/********************** RPG BotÃ³n ***********************/
.rpgButton {
    background: #1e8449;
    padding: 12px 22px;
    font-size: 1em;
    border-radius: 10px;
    margin: 8px;
}

/********************** Animaciones Estrella & Corazones ***********************/
.star, .heartFloat {
    position: absolute;
    pointer-events: none;
}

.star {
    width: 8px;
    height: 8px;
    background: #d1ffd1;
    border-radius: 50%;
    animation: fadeStar 1s linear forwards;
}

.heartFloat {
    position: absolute;
    pointer-events: none;
    animation: floatUp 3s linear forwards;
}

@keyframes floatUp {
    from { transform: translateY(0); opacity: 1; }
    to   { transform: translateY(-100px) rotate(20deg); opacity: 0; }
}


@keyframes fadeStar {
    0% { opacity: 1; transform: scale(1); }
    100% { opacity: 0; transform: scale(2); }
}

@keyframes heartbeat {
    0% { transform: scale(1); }
    50% { transform: scale(1.25); }
    100% { transform: scale(1); }
}

@keyframes fadeIn {
    from { opacity: 0; transform: translateY(25px); }
    to   { opacity: 1; transform: translateY(0); }
}

/********************** CONSTELACIÃ“N DEL AMOR **********************/

.constellation-container {
    position: relative;
    width: 100%;
    height: 300px;
    margin-top: 25px;
}

.const-star {
    width: 10px;
    height: 10px;
    background: #fff8c6;
    border-radius: 50%;
    position: absolute;
    box-shadow: 0 0 12px #fff8c6;
    animation: pulseStar 2s infinite;
}

@keyframes pulseStar {
    0% { transform: scale(1); opacity: 0.7; }
    50% { transform: scale(1.5); opacity: 1; }
    100% { transform: scale(1); opacity: 0.7; }
}

.const-line {
    position: absolute;
    height: 2px;
    background: rgba(255,255,255,0.8);
}

/********************** JARDÃN QUE FLORECE **********************/
.flower {
    font-size: 2.2em;
    position: absolute;
    animation: growFlower 3s forwards;
}

@keyframes growFlower {
    0% { transform: scale(0); opacity: 0; }
    100% { transform: scale(1); opacity: 1; }
}

/********************** FUEGOS ARTIFICIALES **********************/
.firework, .spark, .heartSpark {
    position: absolute;
    pointer-events: none;
    border-radius: 50%;
    transform: translate(0,0) scale(1);
    opacity: 1;
    transition: transform 1s ease-out, opacity 1s ease-out;
}

.spark {
    width: 6px;
    height: 6px;
}

.heartSpark {
    font-size: 18px;
    color: pink;
}


/* Carta secreta */
#cartaSecreta {
    background: rgba(255, 192, 203, 0.2);
    border: 1px solid rgba(255, 105, 180, 0.4);
}
.letter {
    display: inline-block;
    background: rgba(255,255,255,0.2);
    border: 1px solid rgba(255,255,255,0.4);
    border-radius: 10px;
    padding: 15px;
    margin: 5px;
    font-size: 2em;
    cursor: pointer;
    transition: transform 0.2s;
}
.letter:hover {
    transform: scale(1.2);
}
#mazeContainer {
    position: relative;
    width: 300px;
    height: 300px;
    margin: 20px auto;
    border: 3px solid #fff;
    background: rgba(255,255,255,0.1);
}

.wall {
    position: absolute;
    background: #ff7aa3;
}

#player {
    position: absolute;
    width: 25px;
    height: 25px;
    background: red;
    border-radius: 50%;
    text-align: center;
    line-height: 25px;
    font-size: 1em;
    color: white;
}

#goal {
    position: absolute;
    width: 30px;
    height: 30px;
    background: pink;
    border-radius: 50%;
    text-align: center;
    line-height: 30px;
    font-size: 1em;
    color: white;
}

/* Controles tÃ¡ctiles */
#controls {
    width: 220px;
    margin: 20px auto;
    display: grid;
    grid-template-columns: repeat(3, 70px);
    grid-template-rows: repeat(2, 70px);
    gap: 10px;
    justify-items: center;
    align-items: center;
}

.controlBtn {
    width: 60px;
    height: 60px;
    background: #ff7aa3;
    border: none;
    border-radius: 15px;
    font-size: 1.5em;
    color: white;
    cursor: pointer;
    user-select: none;
    touch-action: manipulation;
    display: flex;
    justify-content: center;
    align-items: center;
}

.controlBtn:active {
    transform: scale(0.9);
}


</style>

</head>

<body>

<div class="header">
    <div class="heart">ğŸ’š</div>
    <h1>Para la Persona Que Amo</h1>
    <p>Un regalo creado para ti, mi amor âœ¨</p>
</div>

<!-- BOTONES -->
<button onclick="mostrarCarta()">ğŸ’Œ Carta para ti</button>
<button onclick="mostrarRazones()">ğŸŒ¸ Razones por las que te amo</button>
<button onclick="mostrarContador()">â³ Tiempo juntos</button>
<button onclick="mostrarRPG()">âš”ï¸ Mini RPG RomÃ¡ntico</button>
<button onclick="mostrarSorpresa1()">ğŸ Sorpresa 1</button>
<button onclick="mostrarSorpresa2()">ğŸ’ Sorpresa 2</button>
<button onclick="toggleNight()">ğŸŒ™ Modo noche</button>
<button onclick="mostrarPoema()">ğŸ’– Modo Poema Infinito</button>
<button onclick="mostrarConstelacion()">âœ¨ ConstelaciÃ³n del Amor</button>
<button onclick="mostrarJardin()">ğŸŒ¸ JardÃ­n que Florece</button>
<button onclick="mostrarCartaSecreta()">ğŸ” Carta Secreta</button>
<button onclick="mostrarRompecabezas()">ğŸ§© Rompecabezas de Letras</button>
<button onclick="mostrarLaberinto()">ğŸŒ€ Mini Laberinto del CorazÃ³n</button>

<!-- TARJETAS -->
<div id="carta" class="card"></div>
<div id="razones" class="card"></div>
<div id="contador" class="card"></div>
<div id="rpg" class="card"></div>
<div id="winScreen" class="card"></div>
<div id="sorpresa1" class="card"></div>
<div id="sorpresa2" class="card"></div>
<div id="poema" class="card"></div>
<div id="constelacion" class="card"></div>
<div id="jardin" class="card"></div>
<div id="cartaSecreta" class="card"></div>
<div id="rompecabezas" class="card"></div>
<div id="laberinto" class="card"></div>


<footer style="margin: 40px 0; opacity: 0.8;">Hecho con amor para ti ğŸ’š</footer>

<script>
    /******************** Mostrar tarjetas ********************/
function mostrar(id) {
    document.querySelectorAll(".card").forEach(c => c.style.display = "none");
    document.body.classList.remove("romantic");
    document.getElementById(id).style.display = "block";
}

/******************** Carta ********************/
function mostrarCarta() {
    mostrar("carta");
    carta.innerHTML = `
        <h2>ğŸ’Œ Mi Carta para Ti</h2>
        <p style="font-size: 1.3em; line-height: 1.5;">
        Amorâ€¦ gracias por estos meses maravillosos desde aquel 27 de diciembre del 2024.  
        Cada dÃ­a contigo es un regalo precioso que la vida me dio.  
        Gracias por llenar mis dÃ­as de luz, por tu cariÃ±o y por tu forma tan hermosa de querer.
        <br><br>
        Te amo mÃ¡s de lo que estas palabras pueden explicar ğŸ’š
        </p>
        <div class="secret" onclick="mensajeSecreto()" style="cursor:pointer; margin-top:20px;">Toca aquÃ­ para un mensaje secreto ğŸ’š</div>
    `;
}

/******************** Razones ********************/
function mostrarRazones() {
    mostrar("razones");
    const lista = [
        "ğŸƒ Me haces sentir amado sin esfuerzo",
        "ğŸ’š Eres la persona mÃ¡s preciosa que conozco",
        "ğŸŒ¿ Tu risa es mi sonido favorito",
        "âœ¨ Contigo todo se siente mÃ¡s bonito",
        "ğŸ’ Me inspiras a ser mejor cada dÃ­a",
        "ğŸ«¶ Eres mi paz y mi lugar seguro",
        "ğŸŒ± Cada momento contigo vale oro",
        "ğŸŒ¹ Eres el regalo mÃ¡s bonito del destino"
    ];

    razones.innerHTML = "<h2>ğŸŒ¿ Razones por las que te amo</h2>";
    lista.forEach(r => razones.innerHTML += `<div style="margin:6px 0; font-size:1.25em;">${r}</div>`);
}

/******************** Contador ********************/
function mostrarContador() {
    mostrar("contador");
    const inicio = new Date("2024-12-27");
    const hoy = new Date();
    const diff = hoy - inicio;

    const dias = Math.floor(diff / (1000 * 60 * 60 * 24));
    const meses = (hoy.getFullYear() - inicio.getFullYear()) * 12 + (hoy.getMonth() - inicio.getMonth());

    contador.innerHTML = `
        <h2>â³ Nuestro Tiempo Juntos</h2>
        <p style="font-size: 1.4em;">
        Han pasado <b>${dias}</b> dÃ­as desde que empezamos nuestra historia ğŸ’š<br>
        Ya llevamos <b>${meses}</b> meses juntos âœ¨
        </p>
    `;
}

/******************** RPG ********************/
let php = 100;
let ehp = 70;

function mostrarRPG() {
    ocultarWinScreen();
    mostrar("rpg");
    php = 100;
    ehp = 70;

    rpg.innerHTML = `
        <h2>âš”ï¸ Mini RPG RomÃ¡ntico</h2>
        <p>Derrota al â€œMonstruo de la Distanciaâ€ para fortalecer aÃºn mÃ¡s nuestro amor ğŸ’š</p>

        <p><b>Tu Vida:</b> <span id="php">${php}</span></p>
        <p><b>Vida del Monstruo:</b> <span id="ehp">${ehp}</span></p>

        <button class="rpgButton" onclick="rpgAtacar()">âš”ï¸ Atacar</button>
        <button class="rpgButton" onclick="rpgCurar()">ğŸ’š Curar</button>

        <p id="rpgMsg" style="margin-top:15px; font-size:1.2em;"></p>
    `;
}

function rpgAtacar() {
    const dmg = Math.floor(Math.random() * 20) + 10;
    ehp -= dmg;
    if (ehp < 0) ehp = 0;

    document.getElementById("ehp").innerText = ehp;
    rpgMsg.innerHTML = `Le hiciste <b>${dmg}</b> de daÃ±o ğŸ’š`;

    if (ehp <= 0) return victoriaRPG();
    enemigoGolpea();
}

function rpgCurar() {
    const heal = Math.floor(Math.random() * 20) + 10;
    php += heal;
    if (php > 100) php = 100;

    document.getElementById("php").innerText = php;
    rpgMsg.innerHTML = `Recuperaste <b>${heal}</b> de vida ğŸ’š`;

    enemigoGolpea();
}

function enemigoGolpea() {
    const dmg = Math.floor(Math.random() * 18) + 8;
    php -= dmg;
    if (php < 0) php = 0;

    document.getElementById("php").innerText = php;
    if (php <= 0) return derrotaRPG();
}

function victoriaRPG() { mostrarWinScreen(true); }
function derrotaRPG() { mostrarWinScreen(false); }

const mensajesAmor = [
    "Ganaste, amorâ€¦ igual que ganaste mi corazÃ³n ğŸ’š",
    "Eres la razÃ³n de mis sonrisas mÃ¡s sinceras ğŸ’š",
    "Contigo siempre gano, incluso cuando pierdo ğŸ’š",
    "Mi mundo es perfecto porque estÃ¡s tÃº ğŸ’š",
    "Este juego lo ganasteâ€¦ como ganaste mi alma ğŸ’š"
];

function mostrarWinScreen(victoria) {
    winScreen.innerHTML = `
        <h2>${victoria ? "ğŸ† Â¡Victoria, Mi Amor! ğŸ†" : "ğŸ’š Sigue IntentÃ¡ndolo ğŸ’š"}</h2>
        <p>${victoria ? mensajesAmor[Math.floor(Math.random()*mensajesAmor.length)] : "Perdisteâ€¦ pero nunca perderÃ© mis ganas de amarte ğŸ’š"}</p>
        <button class="rpgButton" onclick="mostrarRPG()">Volver a jugar</button>
    `;
    winScreen.style.display = "block";
}

function ocultarWinScreen() {
    winScreen.style.display = "none";
}

/******************** Sorpresa 1 ********************/
function mostrarSorpresa1() {
    mostrar("sorpresa1");
    sorpresa1.innerHTML = `
        <h2>ğŸ Sorpresa 1</h2>
        <p style="font-size:1.3em;">Presiona para leer algo bonito ğŸ’š</p>

        <button onclick="mensajeRandom()" class="rpgButton">ğŸ’š</button>

        <p id="msgRandom" style="font-size:1.4em; margin-top:15px;"></p>
    `;
}

function mensajeRandom() {
    const frases = [
        "Eres el latido mÃ¡s dulce de mi vida ğŸ’š",
        "Tu sonrisa me cura el alma ğŸŒ¿",
        "Gracias por existir con tanta magia âœ¨",
        "Te amo mÃ¡s de lo que mi voz podrÃ­a decir ğŸ’"
    ];

    msgRandom.innerText = frases[Math.floor(Math.random() * frases.length)];
}

/******************** Sorpresa 2 ********************/
function mostrarSorpresa2() {
    mostrar("sorpresa2");
    sorpresa2.innerHTML = `
        <h2>ğŸ’ Cofre del Amor</h2>
        <p>Toca el cofreâ€¦ ğŸ’š</p>
        <div onclick="abrirCofre()" style="font-size:4em; cursor:pointer;">ğŸ§°</div>
        <p id="cofreMsg" style="font-size:1.4em; margin-top:15px;"></p>
    `;
}

function abrirCofre() {
    cofreMsg.innerHTML = "Dentro del cofre encontrasteâ€¦<br><b>Todo mi amor para ti ğŸ’šâœ¨</b>";
}

/******************** Poema Infinito ********************/
let poemaInterval;

function mostrarPoema() {
    mostrar("poema");

    const versos = [
        "TÃº eres la razÃ³n por la que sonrÃ­o sin querer ğŸ’—",
        "Si existieras en otra vida, tambiÃ©n te elegirÃ­a ğŸŒ™",
        "Tu mirada es donde me siento en casa âœ¨",
        "Eres poesÃ­a sin darte cuenta ğŸ’–",
        "Amarte es mi lugar favorito ğŸ’—"
    ];

    poema.innerHTML = `
        <h2>ğŸ’– Poema Infinito</h2>
        <p id="versoActual" style="font-size:1.6em; margin-top:20px;"></p>
        <button onclick="detenerPoema()" class="rpgButton">Detener</button>
    `;

    let i = 0;
    clearInterval(poemaInterval);

    poemaInterval = setInterval(() => {
        versoActual.innerHTML = versos[i];

        const heart = document.createElement("div");
        heart.classList.add("heartFloat");
        heart.innerHTML = "ğŸ’–";
        heart.style.left = (Math.random()*window.innerWidth) + "px";
        heart.style.top = "80%";
        document.body.appendChild(heart);
        setTimeout(() => heart.remove(), 3000);

        i = (i + 1) % versos.length;
    }, 2600);
}

function detenerPoema() {
    clearInterval(poemaInterval);
    versoActual.innerHTML = "Poema pausadoâ€¦ pero mi amor jamÃ¡s ğŸ’—";
}

/******************** Modo Noche ********************/
function toggleNight() {
    if (document.body.classList.contains("romantic")) {
        document.body.classList.remove("romantic");
    }
    document.body.classList.toggle("dark");
}

/******************** Estrellas al hacer clic ********************/
document.addEventListener("click", e => {
    const star = document.createElement("div");
    star.classList.add("star");
    document.body.appendChild(star);
    star.style.left = e.clientX + "px";
    star.style.top = e.clientY + "px";
    setTimeout(() => star.remove(), 1000);
});

/******************** Mensaje Secreto ********************/
function mensajeSecreto() {
    alert("Mi secreto es que cada dÃ­a te amo un poquito mÃ¡s ğŸ’š");
}

/******************** CONSTELACIÃ“N DEL AMOR ********************/
function mostrarConstelacion() {
    mostrar("constelacion");

    constelacion.innerHTML = `
        <h2>âœ¨ ConstelaciÃ³n del Amor</h2>
        <p>Nuestras estrellas siempre estarÃ¡n unidas ğŸ’š</p>
        <div class="constellation-container" id="constContainer"></div>
    `;

    const cont = document.getElementById("constContainer");
    cont.innerHTML = "";

    const stars = [
        {x: 20, y: 50}, {x: 40, y: 30}, {x: 60, y: 60},
        {x: 80, y: 40}, {x: 50, y: 80}
    ];

    stars.forEach(s => {
        const star = document.createElement("div");
        star.classList.add("const-star");
        star.style.left = s.x + "%";
        star.style.top = s.y + "%";
        cont.appendChild(star);
    });

    for (let i = 0; i < stars.length - 1; i++) {
        const line = document.createElement("div");
        line.classList.add("const-line");
        const dx = stars[i+1].x - stars[i].x;
        const dy = stars[i+1].y - stars[i].y;
        const length = Math.sqrt(dx*dx + dy*dy);
        line.style.width = length + "%";
        line.style.left = stars[i].x + "%";
        line.style.top = stars[i].y + "%";
        line.style.transform = `rotate(${Math.atan2(dy, dx)}rad)`;
        cont.appendChild(line);
    }
}

/******************** JARDÃN QUE FLORECE ********************/
function mostrarJardin() {
    mostrar("jardin");

    jardin.innerHTML = `
        <h2>ğŸŒ¸ JardÃ­n que Florece</h2>
        <p>AsÃ­ florece mi amor por ti, cada dÃ­a ğŸ’š</p>
        <div id="gardenArea" style="position:relative; height:300px;"></div>
    `;

    const garden = document.getElementById("gardenArea");
    garden.innerHTML = "";

    const flowers = ["ğŸŒ¸","ğŸŒº","ğŸŒ¼","ğŸŒ·","ğŸ’®","ğŸŒ»"];

    for (let i = 0; i < 20; i++) {
        const flower = document.createElement("div");
        flower.classList.add("flower");
        flower.innerHTML = flowers[Math.floor(Math.random()*flowers.length)];
        flower.style.left = (Math.random()*90)+"%";
        flower.style.top = (Math.random()*80)+"%";
        garden.appendChild(flower);
    }
}

/******************** FUEGOS ARTIFICIALES ********************/
function crearFuegosArtificiales(x, y) {
    const colors = ["#FF4B5C","#FFB400","#6A0572","#1ABC9C","#FF6F61","#FFC0CB"];
    
    for(let i=0; i<30; i++){
        // PartÃ­culas normales
        const spark = document.createElement("div");
        spark.className = "spark";
        spark.style.background = colors[Math.floor(Math.random()*colors.length)];
        spark.style.left = x + "px";
        spark.style.top = y + "px";

        document.body.appendChild(spark);

        const angle = Math.random() * 2 * Math.PI;
        const distance = Math.random() * 100 + 50;

        setTimeout(() => {
            spark.style.transform = `translate(${Math.cos(angle)*distance}px, ${Math.sin(angle)*distance}px) scale(0.5)`;
            spark.style.opacity = 0;
        }, 50);

        setTimeout(() => spark.remove(), 1200);

        // PartÃ­culas en forma de corazÃ³n
        if(Math.random() < 0.3){
            const heart = document.createElement("div");
            heart.className = "heartSpark";
            heart.innerHTML = "ğŸ’–";
            heart.style.left = x + "px";
            heart.style.top = y + "px";

            document.body.appendChild(heart);

            const angleH = Math.random() * 2 * Math.PI;
            const distanceH = Math.random() * 80 + 30;

            setTimeout(() => {
                heart.style.transform = `translate(${Math.cos(angleH)*distanceH}px, ${Math.sin(angleH)*distanceH}px) scale(0.5)`;
                heart.style.opacity = 0;
            }, 50);

            setTimeout(() => heart.remove(), 1200);
        }
    }
}

// Para probar: clic en cualquier lugar
document.addEventListener("click", e => {
    crearFuegosArtificiales(e.clientX, e.clientY);
});


/******************** Carta Secreta ********************/
function mostrarCartaSecreta() {
    mostrar("cartaSecreta");

    cartaSecreta.innerHTML = `
        <h2>ğŸ” Carta Secreta</h2>
        <p>Ingresa la contraseÃ±a para leer tu mensaje secreto ğŸ’š</p>
        <input type="password" id="clave" placeholder="Escribe la contraseÃ±a aquÃ­" style="padding:10px; font-size:1.2em; border-radius:10px; border:none;">
        <button onclick="revisarClave()" class="rpgButton" style="margin-top:15px;">Abrir Carta</button>
        <p id="msgSecreto" style="font-size:1.3em; margin-top:15px;"></p>
    `;
}

function revisarClave() {
    const clave = document.getElementById("clave").value.toLowerCase();
    const msg = document.getElementById("msgSecreto");

    if(clave === "27122025") {
        msg.innerHTML = `
            ğŸ’Œ Â¡Felicidades! Has abierto la carta secreta.<br><br>
            Amor mÃ­o, cada dÃ­a que pasa te amo mÃ¡s.<br>
            Eres la persona mÃ¡s maravillosa de mi vida ğŸ’šâœ¨
        `;
    } else {
        msg.innerHTML = "âŒ ContraseÃ±a incorrectaâ€¦ intenta de nuevo ğŸ’”";

        // Crear corazones rotos animados
        for(let i=0; i<5; i++) {
            const heart = document.createElement("div");
            heart.classList.add("heartFloat");
            heart.innerHTML = "ğŸ’”";
            heart.style.left = (Math.random() * window.innerWidth) + "px";
            heart.style.top = "80%";
            heart.style.fontSize = (20 + Math.random()*30) + "px";
            heart.style.color = "rgba(255, 0, 0, 0.8)";
            document.body.appendChild(heart);
            setTimeout(() => heart.remove(), 2500);
        }
    }
}
function mostrarRompecabezas() {
    mostrar("rompecabezas");

    const nombre = "ANITAYMICRICRI"; // Cambia por el nombre de la persona
    const letras = nombre.split("");
    const letrasDesordenadas = [...letras].sort(() => Math.random() - 0.5);

    rompecabezas.innerHTML = `
        <h2>ğŸ§© Rompecabezas de Letras</h2>
        <p>Arma el nombre correcto para desbloquear la sorpresa ğŸ’–</p>
        <div id="letrasContainer"></div>
        <p id="msgRompecabezas" style="font-size:1.3em; margin-top:15px;"></p>
    `;

    const container = document.getElementById("letrasContainer");
    container.innerHTML = ""; // limpiar letras viejas
    letrasDesordenadas.forEach(letra => {
        const span = document.createElement("span");
        span.className = "letter";
        span.innerText = letra;
        span.addEventListener("click", () => seleccionarLetra(span, letras));
        container.appendChild(span);
    });

    // Reiniciar estado
    window.letrasSeleccionadas = [];
}

function seleccionarLetra(elemento, letrasCorrectas) {
    window.letrasSeleccionadas.push(elemento.innerText);
    elemento.style.visibility = "hidden";

    const msg = document.getElementById("msgRompecabezas");

    if(window.letrasSeleccionadas.length === letrasCorrectas.length){
        const intento = window.letrasSeleccionadas.join("");
        if(intento === letrasCorrectas.join("")){
            msg.innerHTML = "ğŸ’– Â¡Correcto! Has completado el rompecabezas mi amor ğŸ’–";
            // Fuegos artificiales romÃ¡nticos al completar
            const centerX = window.innerWidth/2;
            const centerY = window.innerHeight/2;
            crearFuegosArtificiales(centerX, centerY);
        } else {
            msg.innerHTML = "âŒ No es correctoâ€¦ intenta de nuevo ğŸ’”";
            mostrarCorazonesRotos(5);
            // Reiniciar letras sin recargar todo
            setTimeout(() => reiniciarLetras(letrasCorrectas), 1200);
        }
    }
}

function reiniciarLetras(letrasCorrectas){
    const container = document.getElementById("letrasContainer");
    window.letrasSeleccionadas = [];
    container.innerHTML = "";

    const letrasDesordenadas = [...letrasCorrectas].sort(() => Math.random() - 0.5);
    letrasDesordenadas.forEach(letra => {
        const span = document.createElement("span");
        span.className = "letter";
        span.innerText = letra;
        span.addEventListener("click", () => seleccionarLetra(span, letrasCorrectas));
        container.appendChild(span);
    });

    document.getElementById("msgRompecabezas").innerText = "";
}

function mostrarCorazonesRotos(cantidad){
    for(let i=0; i<cantidad; i++){
        const heart = document.createElement("div");
        heart.classList.add("heartFloat");
        heart.innerHTML = "ğŸ’”";
        heart.style.left = (Math.random() * window.innerWidth) + "px";
        heart.style.top = "80%";
        heart.style.fontSize = (20 + Math.random()*30) + "px";
        heart.style.color = "rgba(255, 0, 0, 0.8)";
        document.body.appendChild(heart);
        setTimeout(() => heart.remove(), 2500);
    }
}
function mostrarLaberinto() {
    mostrar("laberinto");

    laberinto.innerHTML = `
        <h2>ğŸŒ€ Laberinto del Amor</h2>
        <p>Elige la dificultad:</p>
        <button id="easyBtn" class="rpgButton">FÃ¡cil</button>
        <button id="hardBtn" class="rpgButton">DifÃ­cil</button>
        <div id="mazeContainer" style="position:relative; width:300px; height:300px; margin:20px auto; background:#fff0f5; border:2px solid #ff77aa; overflow:hidden;"></div>
        <div id="controls" style="text-align:center; margin-top:10px;">
            <button class="controlBtn" data-dir="up">â¬†ï¸</button><br>
            <button class="controlBtn" data-dir="left">â¬…ï¸</button>
            <button class="controlBtn" data-dir="down">â¬‡ï¸</button>
            <button class="controlBtn" data-dir="right">â¡ï¸</button>
        </div>
        <p id="laberintoMsg" style="font-size:1.3em; margin-top:15px;"></p>
    `;

    const maze = document.getElementById("mazeContainer");
    const mazeMsg = document.getElementById("laberintoMsg");

    let wallsElements = [];
    let player, goal;
    const speed = 5;
    let walls = [];

    function crearMaze(dificultad) {
        maze.innerHTML = "";
        wallsElements = [];

        // Paredes base pasables
        walls = [
            {x:50, y:0, w:10, h:100},
            {x:50, y:120, w:10, h:180},
            {x:100, y:50, w:150, h:10},
            {x:100, y:200, w:200, h:10},
            {x:0, y:250, w:150, h:10},
            {x:150, y:150, w:10, h:100},
        ];

        if(dificultad === "hard"){
            walls.push(
                {x:200, y:0, w:10, h:80},
                {x:200, y:100, w:10, h:40},
                {x:250, y:50, w:10, h:60},
                {x:120, y:100, w:10, h:30},
                {x:80, y:180, w:50, h:10}
            );
        }

        // Crear paredes y aÃ±adir flores decorativas
        walls.forEach(w => {
            const wall = document.createElement("div");
            wall.style.position = "absolute";
            wall.style.left = w.x + "px";
            wall.style.top = w.y + "px";
            wall.style.width = w.w + "px";
            wall.style.height = w.h + "px";
            wall.style.background = "#ff77aa";
            wall.style.borderRadius = "4px";
            maze.appendChild(wall);
            wallsElements.push(wall);

            // AÃ±adir flor decorativa
            const flower = document.createElement("div");
            flower.innerHTML = "ğŸŒ¸";
            flower.style.position = "absolute";
            flower.style.left = (w.x + Math.random() * w.w) + "px";
            flower.style.top = (w.y + Math.random() * w.h) + "px";
            flower.style.fontSize = "1.2em";
            maze.appendChild(flower);
        });

        // Jugador
        player = document.createElement("div");
        player.innerHTML = "â¤ï¸";
        player.style.position = "absolute";
        player.style.left = "2px";
        player.style.top = "2px";
        player.style.fontSize = "1.5em";
        player.style.width = "2px";
        player.style.height = "2px";
        player.style.lineHeight = "2px";
        player.style.textAlign = "center";
        maze.appendChild(player);

        // Meta
        goal = document.createElement("div");
        goal.innerHTML = "ğŸ’š";
        goal.style.position = "absolute";
        goal.style.left = "260px";
        goal.style.top = "260px";
        goal.style.fontSize = "1.5em";
        maze.appendChild(goal);

        mazeMsg.innerHTML = "ğŸ’– Lleva el corazÃ³n rojo hasta el verde entre las flores ğŸŒ¸";
    }

    function mover(dx, dy){
        let newX = player.offsetLeft + dx;
        let newY = player.offsetTop + dy;

        if(newX < 0) newX = 0;
        if(newY < 0) newY = 0;
        if(newX > maze.offsetWidth - parseInt(player.style.width)) newX = maze.offsetWidth - parseInt(player.style.width);
        if(newY > maze.offsetHeight - parseInt(player.style.height)) newY = maze.offsetHeight - parseInt(player.style.height);

        let collision = false;
        wallsElements.forEach(w => {
            const wRect = w.getBoundingClientRect();
            const mazeRect = maze.getBoundingClientRect();
            const pRect = {
                left: newX + mazeRect.left,
                top: newY + parseInt(player.style.height)/2 + mazeRect.top,
                right: newX + parseInt(player.style.width)/2 + mazeRect.left,
                bottom: newY + parseInt(player.style.height)/2 + mazeRect.top
            };
            if(pRect.right > wRect.left && pRect.left < wRect.right &&
               pRect.bottom > wRect.top && pRect.top < wRect.bottom){
                collision = true;
            }
        });

        if(!collision){
            player.style.left = newX + "px";
            player.style.top = newY + "px";

            // Crear corazÃ³n flotante al moverse
            const h = document.createElement("div");
            h.classList.add("heartFloat");
            h.innerHTML = "ğŸ’–";
            h.style.left = (newX + 5) + "px";
            h.style.top = (newY + 5) + "px";
            document.body.appendChild(h);
            setTimeout(()=>h.remove(), 1000);
        }

        // Verificar meta
        const mazeRect = maze.getBoundingClientRect();
        const goalRect = goal.getBoundingClientRect();
        const pRect = {
            left: player.offsetLeft + mazeRect.left,
            top: player.offsetTop + parseInt(player.style.height)/2 + mazeRect.top,
            right: player.offsetLeft + parseInt(player.style.width)/2 + mazeRect.left,
            bottom: player.offsetTop + parseInt(player.style.height)/2 + mazeRect.top
        };

        if(!(pRect.right < goalRect.left || pRect.left > goalRect.right ||
             pRect.bottom < goalRect.top || pRect.top > goalRect.bottom)){
            mazeMsg.innerHTML = "ğŸ’š Â¡Has llegado a tu amor! Cada paso valiÃ³ la pena ğŸ’–";
            crearFuegosArtificiales(window.innerWidth/2, window.innerHeight/2);
            document.onkeydown = null;
            document.querySelectorAll(".controlBtn").forEach(btn => btn.disabled = true);
        }
    }

    // Teclado
    document.onkeydown = function(e){
        switch(e.key){
            case "ArrowUp": mover(0, -speed); break;
            case "ArrowDown": mover(0, speed); break;
            case "ArrowLeft": mover(-speed, 0); break;
            case "ArrowRight": mover(speed, 0); break;
        }
    };

    // Controles tÃ¡ctiles
    document.querySelectorAll(".controlBtn").forEach(btn => {
        btn.addEventListener("click", ()=>{
            const dir = btn.dataset.dir;
            switch(dir){
                case "up": mover(0, -speed); break;
                case "down": mover(0, speed); break;
                case "left": mover(-speed, 0); break;
                case "right": mover(speed, 0); break;
            }
        });
    });

    // Dificultad
    document.getElementById("easyBtn").onclick = ()=>crearMaze("easy");
    document.getElementById("hardBtn").onclick = ()=>{
        if(confirm("Â¡Dificultad alta! Â¿Quieres intentarlo?")){
            crearMaze("hard");
        }
    };

    // Inicializa con fÃ¡cil
    crearMaze("easy");
}

// FunciÃ³n para fuegos artificiales
function crearFuegosArtificiales(x, y){
    for(let i=0;i<25;i++){
        const f = document.createElement("div");
        f.classList.add("heartFloat");
        f.innerHTML = "ğŸ’•";
        f.style.position = "fixed";
        f.style.left = x + (Math.random()*100 -50) + "px";
        f.style.top = y + (Math.random()*100 -50) + "px";
        f.style.fontSize = (12+Math.random()*12)+"px";
        f.style.zIndex = 9999;
        document.body.appendChild(f);
        setTimeout(()=>f.remove(), 1500);
    }
}

</script>


</body>
</html>
